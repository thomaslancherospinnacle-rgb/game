<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIFA Manager - Career Mode</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Additional styles for images */
        .match-team-badge {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .match-team-badge img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .player-face {
            width: 80px;
            height: 80px;
            margin: 10px auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .player-face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .club-badge img {
            display: block !important;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading FIFA Manager...</div>
        <div class="loading-progress" id="loadingProgress">Initializing...</div>
    </div>

    <!-- Team Selection Modal -->
    <div id="teamSelectModal" class="modal hidden">
        <div class="modal-content">
            <h1 class="modal-title">SELECT YOUR TEAM</h1>
            <p class="modal-subtitle">Choose a club to begin your managerial career</p>
            <div class="league-filter" id="leagueFilter"></div>
            <div id="teamGrid" class="team-grid"></div>
        </div>
    </div>

    <!-- Match Result Modal -->
    <div id="matchResultModal" class="modal hidden">
        <div class="modal-content match-result-modal">
            <div id="matchResultContent"></div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="club-badge" id="clubBadge">√¢≈°¬Ω</div>
            <div class="manager-info">
                <div class="manager-name">Manager</div>
                <div class="club-name" id="clubName">Select a Team</div>
            </div>
            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-label">Budget</div>
                    <div class="header-stat-value" id="clubBudget">√Ç¬£0M</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-label">Season</div>
                    <div class="header-stat-value" id="currentSeason">2024/25</div>
                </div>
            </div>
            <div class="overall-badge" id="teamOverall">--</div>
        </div>

        <!-- Navigation -->
        <nav class="nav-bar">
            <div class="nav-item active" onclick="showTab('central')">Central</div>
            <div class="nav-item" onclick="showTab('squad')">Squad</div>
            <div class="nav-item" onclick="showTab('table')">Table</div>
            <div class="nav-item" onclick="showTab('fixtures')">Fixtures</div>
            <div class="nav-item" onclick="showTab('transfers')">Transfers <span class="badge" id="offerBadge" style="display:none;">0</span></div>
            <div class="nav-item" onclick="showTab('office')">Office</div>
            <div class="nav-item" onclick="showTab('news')">News</div>
        </nav>

        <!-- Central Tab -->
        <div id="tab-central" class="tab-content active">
            <div class="main-content">
                <div class="training-card">
                    <div class="training-header">Training Day</div>
                    <div class="training-date" id="currentDate">Monday, January 30, 2025</div>
                    <div class="training-stats">
                        <div class="training-stat">
                            <div class="training-icon">√¢≈°¬Ω</div>
                            <div>
                                <div id="nextOpponent">--</div>
                                <div class="training-label">Next Opponent</div>
                            </div>
                        </div>
                        <div class="training-stat">
                            <div class="training-icon">√∞≈∏‚Äú‚Ä¶</div>
                            <div>
                                <div id="daysUntilMatch">--</div>
                                <div class="training-label">Days Until Match</div>
                            </div>
                        </div>
                        <div class="training-stat">
                            <div class="training-icon">√∞≈∏‚Äò¬•</div>
                            <div>
                                <div id="availablePlayers">--</div>
                                <div class="training-label">Available Players</div>
                            </div>
                        </div>
                        <div class="training-stat">
                            <div class="training-icon">√∞≈∏¬è¬•</div>
                            <div>
                                <div id="injuredPlayers">0</div>
                                <div class="training-label">Injured</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-grid">
                    <div class="card next-match">
                        <div class="card-title" style="color: #ff3366;">Next Match</div>
                        <div class="match-date" id="nextMatchDate">Saturday, February 3, 2025</div>
                        <div class="match-teams">
                            <div class="match-team">
                                <div class="match-team-badge" id="homeTeamBadge">√¢≈°¬Ω</div>
                                <div id="homeTeamName">--</div>
                            </div>
                            <div class="match-vs">VS</div>
                            <div class="match-team">
                                <div class="match-team-badge" id="awayTeamBadge">√¢≈°¬Ω</div>
                                <div id="awayTeamName">--</div>
                            </div>
                        </div>
                        <button class="simulate-btn" id="simulateMatchBtn" onclick="simulateMatch()">Simulate Match</button>
                    </div>

                    <div class="card">
                        <div class="card-title">Latest News</div>
                        <div id="centralNewsGrid" class="news-grid"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Squad Tab -->
        <div id="tab-squad" class="tab-content">
            <div class="main-content">
                <div class="card">
                    <div class="card-title">Your Squad</div>
                    <div class="card-subtitle" id="squadSubtitle">Loading...</div>
                    <div id="squadGrid" class="squad-grid"></div>
                </div>
            </div>
        </div>

        <!-- Table Tab -->
        <div id="tab-table" class="tab-content">
            <div class="main-content">
                <div class="card">
                    <div class="card-title" id="leagueName">League Table</div>
                    <div class="card-subtitle">Season 2024/25</div>
                    <div id="leagueTable" class="league-table"></div>
                </div>

                <div class="card">
                    <div class="card-title">Season Statistics</div>
                    <div class="content-grid">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="matchesPlayed">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Matches Played</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="wins">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Wins</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="draws">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Draws</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="losses">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Losses</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="goalsScored">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Goals Scored</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #00d4ff;" id="goalsConceded">0</div>
                            <div style="color: rgba(255,255,255,0.6); margin-top: 5px;">Goals Conceded</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fixtures Tab -->
        <div id="tab-fixtures" class="tab-content">
            <div class="main-content">
                <div class="card">
                    <div class="card-title">Upcoming Fixtures</div>
                    <div id="fixturesContent" class="content-grid">Loading...</div>
                </div>
            </div>
        </div>

        <!-- Transfers Tab -->
        <div id="tab-transfers" class="tab-content">
            <div class="main-content" style="padding:20px 30px;">
                <div class="transfer-subnav" id="transferSubnav">
                    <button class="transfer-subnav-btn active" onclick="switchTransferView('search')">üîç Search</button>
                    <button class="transfer-subnav-btn" onclick="switchTransferView('offers')">üì¨ Offers <span id="offerCount" class="transfer-badge">0</span></button>
                    <button class="transfer-subnav-btn" onclick="switchTransferView('history')">üìã History</button>
                </div>
                <div id="transferView-search" class="transfer-view">
                    <div class="search-filters" id="searchFilters">
                        <input type="text" class="search-input" id="searchQuery" placeholder="Search player name..." oninput="debounceSearch()">
                        <select class="search-select" id="filterPosition" onchange="debounceSearch()">
                            <option value="">All Positions</option>
                            <option value="GK">GK</option><option value="CB">CB</option>
                            <option value="LB">LB</option><option value="RB">RB</option>
                            <option value="CDM">CDM</option><option value="CM">CM</option>
                            <option value="CAM">CAM</option><option value="LW">LW</option>
                            <option value="RW">RW</option><option value="ST">ST</option>
                            <option value="CF">CF</option>
                        </select>
                        <select class="search-select" id="filterLeague" onchange="debounceSearch()"><option value="">All Leagues</option></select>
                        <select class="search-select" id="filterCountry" onchange="debounceSearch()"><option value="">All Countries</option></select>
                        <div class="search-range-group">
                            <label>OVR</label>
                            <input type="number" class="search-num" id="filterMinOvr" placeholder="60" min="50" max="99" oninput="debounceSearch()">
                            <span>‚Äì</span>
                            <input type="number" class="search-num" id="filterMaxOvr" placeholder="99" min="50" max="99" oninput="debounceSearch()">
                        </div>
                        <div class="search-range-group">
                            <label>Max ‚Ç¨</label>
                            <select class="search-select" id="filterMaxPrice" onchange="debounceSearch()" style="min-width:100px;">
                                <option value="">Any</option>
                                <option value="5000000">‚Ç¨5M</option><option value="10000000">‚Ç¨10M</option>
                                <option value="25000000">‚Ç¨25M</option><option value="50000000">‚Ç¨50M</option>
                                <option value="100000000">‚Ç¨100M</option>
                            </select>
                        </div>
                        <label class="search-checkbox-label"><input type="checkbox" id="filterFreeAgents" onchange="debounceSearch()"> Free Agents</label>
                    </div>
                    <div class="search-results-header"><span id="resultsCount">Use filters or search above to find players</span></div>
                    <div id="searchResults" class="search-results-grid"></div>
                </div>
                <div id="transferView-offers" class="transfer-view" style="display:none;"><div id="offersContent"></div></div>
                <div id="transferView-history" class="transfer-view" style="display:none;"><div id="historyContent"></div></div>
            </div>
        </div>

        <!-- Office Tab -->
        <div id="tab-office" class="tab-content">
            <div class="main-content" style="padding:20px 30px;">
                <div id="officeBudgetCard" class="office-budget-card"></div>
                <div class="card" style="margin-top:20px;">
                    <div class="card-title">Squad Contracts</div>
                    <div class="card-subtitle">Manage wages and contract status</div>
                    <div id="contractsTable" class="contracts-table"></div>
                </div>
            </div>
        </div>

        <!-- Player Detail Modal -->
        <div id="playerDetailModal" class="modal hidden">
            <div class="modal-content player-detail-modal" id="playerDetailContent"></div>
        </div>

        <!-- News Tab -->
        <div id="tab-news" class="tab-content">
            <div class="main-content">
                <div class="card">
                    <div class="card-title">Latest News</div>
                    <div class="card-subtitle">Stay updated with the latest football news</div>
                    <div id="newsGrid" class="news-grid"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="TransferSystem.js"></script>
    <script src="MatchSimulation.js?v=3"></script>
    <script src="game.js?v=3"></script>
</body>
</html>
